@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Microsoft.AspNetCore.Identity
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager
@{
    <div class="col-11 w-100">

        <h3 class=" text-secondary">Recently Added:</h3>
        @foreach (var i in ViewBag.Songs)
        {
            <div class="d-flex align-items-center justify-content-between bg-gray ">
                <div class="d-flex align-items-center justify-content-between w-100">
                    <span class="fw-bold ">@i.Artists - @i.SongName</span>

                    <div class="d-flex align-items-center justify-content-between ">
                        @if (SignInManager.IsSignedIn(User))
                         {
                            @if (!i.IsAdded)
                            {
                                @Html.ActionLink("Add To Your Songs", "AddToGeneralPlaylistFromRecent", "Playlist", new { songId = i.SongId })
                            }
                         }

                        <audio controls class="align-self-end">
                            <source src="@i.Path" type="audio/mpeg">
                        </audio>

                    </div>
                </div>

            </div>


        }
    </div>
}
